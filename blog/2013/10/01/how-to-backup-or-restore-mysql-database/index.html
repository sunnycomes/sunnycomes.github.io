
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>How to Backup or Restore MySQL Database - I/O VIsion</title>
  <meta name="author" content="Sunny">

  
  <meta name="description" content="The Way You Need to Know Back up From the Command Line
Operations over Web with PHPMyAdmin Back up From the Command Line (using mysqldump) If you &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://www.iovi.com/blog/2013/10/01/how-to-backup-or-restore-mysql-database">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="I/O VIsion" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/libs/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-43860851-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://' : 'http://') + 'stats.g.doubleclick.net/dc.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>
<script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-43860851-1', 'iovi.com');
  ga('send', 'pageview');

</script>




</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">I/O VIsion</a></h1>
  
    <h2>Do one thing at a time, and do well.</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:www.iovi.com" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">


<li><a href="/">Home</a></li>

<li><a href="/blog/archives">Archives</a></li>

<li><a href="/blog/categories/stuff">Stuff</a></li>

<li><a href="/bookshelf">Bookshelf</a></li>

<!--
	<li><a href="/blog/stuff">Stuff</a></li>

	Commented out for present.
<li><a href="/blog/categories/data-mining">Data Mining</a></li>

<li><a href="/blog/bookrack ">Bookrack</a></li>

-->
<li><a href="/about ">About</a></li>


</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">How to Backup or Restore MySQL Database</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-10-01T14:54:53+08:00" pubdate data-updated="true">Oct 1<span>st</span>, 2013</time>
        
           | <a href="#disqus_thread"
             data-disqus-identifier="http://www.iovi.com">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><h2>The Way You Need to Know</h2>

<ol>
<li><a href="#buftcl">Back up From the Command Line</a></li>
<li><a href="#oowwp">Operations over Web with PHPMyAdmin</a></li>
</ol>


<hr />

<h3><a name='buftcl'></a>Back up From the Command Line (using mysqldump)</h3>

<p>If you have shell or telnet access to your web server, you can backup your MySQL data by using the mysqldump command. This command connects to the MySQL server and creates an SQL dump file. The dump file contains the SQL statements necessary to re-create the database. Here is the proper syntax:</p>

<ul>
<li><p><code>mysqldump --opt -u [uname] -p[pass] [dbname] &gt; [backupfile.sql]</code><br/>
This command will backup the &lsquo;Tutorials&rsquo; database into a file called tut_backup.sql which will contain all the SQL statements needed to re-create the database.</p></li>
<li><p><code>mysqldump -u root -p Tutorials php_tutorials asp_tutorials &gt; tut_backup.sql</code><br/>
With mysqldump command you can specify certain tables of your database you want to backup. For example, to back up only php_tutorials and asp_tutorials tables from the &lsquo;Tutorials&rsquo; database accomplish the command below. Each table name has to be separated by space.</p></li>
<li><p><code>mysqldump -u root -p --databases Tutorials Articles Comments &gt; content_backup.sql</code><br/>
Sometimes it is necessary to back up more that one database at once. In this case you can use the &mdash;database option followed by the list of databases you would like to backup. Each database name has to be separated by space.</p></li>
<li><p><code>mysqldump -u root -p --all-databases &gt; alldb_backup.sql</code><br/>
If you want to back up all the databases in the server at one time you should use the &mdash;all-databases option. It tells MySQL to dump all the databases it has in storage.</p></li>
</ul>


<p>The mysqldump command has also some other useful options:</p>

<ol>
<li><p><code>--add-drop-table</code>: Tells MySQL to add a <code>DROP TABLE</code> statement before each <code>CREATE TABLE</code> in the dump.</p></li>
<li><p><code>--no-data</code>: Dumps only the database structure, not the contents.</p></li>
<li><p><code>--add-locks</code>: Adds the <code>LOCK TABLES</code> and <code>UNLOCK TABLES</code> statements you can see in the dump file.</p></li>
</ol>


<p>The mysqldump command has advantages and disadvantages. The advantages of using mysqldump are that it is simple to use and it takes care of table locking issues for you. The disadvantage is that the command locks tables. If the size of your tables is very big mysqldump can lock out users for a long period of time.</p>

<h3>Back up your MySQL Database with Compress</h3>

<ul>
<li><p><code>mysqldump -u [uname] -p[pass] [dbname] | gzip -9 &gt; [backupfile.sql.gz]</code><br/>
If your mysql database is very big, you might want to compress the output of mysqldump. Just use the mysql backup command below and pipe the output to gzip, then you will get the output as gzip file.</p></li>
<li><p><code>gunzip [backupfile.sql.gz]</code><br/>
If you want to extract the .gz file, use the command above:</p></li>
<li><p><code>Restoring your MySQL Database</code><br/>
Above we backup the Tutorials database into tut_backup.sql file. To re-create the Tutorials database you should follow two steps:</p>

<ol>
<li> Create an appropriately named database on the target machine</li>
<li> Load the file using the mysql command:</li>
<li> <code>$ mysql -u [uname] -p[pass] [db_to_restore] &lt; [backupfile.sql]</code></li>
</ol>
</li>
</ul>


<p>Have a look how you can restore your tut_backup.sql file to the Tutorials database.</p>

<ul>
<li><p>To restore compressed backup files you can do the following:<br/>
<code>gunzip &lt; [backupfile.sql.gz] | mysql -u [uname] -p[pass] [dbname]</code></p></li>
<li><p>If you need to restore a database that already exists, you&rsquo;ll need to use mysqlimport command. The syntax for mysqlimport is as follows:<br/>
<code>mysqlimport -u [uname] -p[pass] [dbname] [backupfile.sql]</code></p></li>
</ul>


<h2><a name='oowwp'></a>Operations over Web with PHPMyAdmin</h2>

<ul>
<li><p>It is assumed that you have phpMyAdmin installed since a lot of web service providers use it. To backup your MySQL database using PHPMyAdmin just follow a couple of steps:</p>

<ol>
<li> Open phpMyAdmin.</li>
<li> Select your database by clicking the database name in the list on the left of the screen.</li>
<li> Click the Export link. This should bring up a new screen that says View dump of database (or something similar).</li>
<li> In the Export area, click the Select All link to choose all of the tables in your database.</li>
<li> In the SQL options area, click the right options.</li>
<li> Click on the Save as file option and the corresponding compression option and then click the <code>Go</code> button. A dialog box should appear prompting you to save the file locally.</li>
</ol>
</li>
<li><p>Restoring your database is easy as well as backing it up. Make the following:</p>

<ol>
<li> Open phpMyAdmin.</li>
<li> Create an appropriately named database and select it by clicking the database name in the list on the left of the screen. If you would like to rewrite the backup over an    1. existing database then click on the database name, select all the check boxes next to the table names and select Drop to delete all existing tables in the database.</li>
<li> Click the SQL link. This should bring up a new screen where you can either type in SQL commands, or upload your SQL file.</li>
<li> Use the browse button to find the database file.</li>
<li> Click Go button. This will upload the backup, execute the SQL commands and re-create your database.</li>
</ol>
</li>
</ul>


<h2>References:</h2>

<ul>
<li><a href="http://webcheatsheet.com/sql/mysql_backup_restore.php">How to Back Up and Restore a MySQL Database</a></li>
</ul>

</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Sunny</span></span>

      








  


<time datetime="2013-10-01T14:54:53+08:00" pubdate data-updated="true">Oct 1<span>st</span>, 2013</time>
      


    </p>
    
      <div class="sharing">
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/09/06/short-list-of-mysql-commands/" title="Previous Post: Short List of MySQL Commands">&laquo; Short List of MySQL Commands</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/10/11/simple-guide-for-markdown/" title="Next Post: Simple Guide for Markdown">Simple Guide for Markdown &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2014/02/21/simple-git-guide/">Simple Git Guide</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/12/11/java-performance-tunning-tips/">Java Performance Tuning Tips</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/11/11/best-practices-to-improve-performance-in-JDBC/">Best Practices to Improve Performance in JDBC</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/31/optimal-isolation-level/">Optimal JDBC Transaction Isolation Level</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/21/optimistic-and-pessimistic-locking/">Optimistic and Pessimistic Locking</a>
      </li>
    
  </ul>
</section>
<section>
  <h1>Tags</h1>
  <ul class="tag-cloud">
    <a style="font-size: 210%" href="/tags/database/">Database</a>
<a style="font-size: 90%" href="/tags/git/">Git</a>
<a style="font-size: 210%" href="/tags/java/">Java</a>
<a style="font-size: 210%" href="/tags/mysql/">MySQL</a>

  </ul>
</section>




  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2014 - Sunny -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'sunnycomes';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://www.iovi.com/blog/2013/10/01/how-to-backup-or-restore-mysql-database/';
        var disqus_url = 'http://www.iovi.com/blog/2013/10/01/how-to-backup-or-restore-mysql-database/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>











</body>
</html>
